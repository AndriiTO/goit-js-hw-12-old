{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '53390441-690cb9fa742523782d54564fc';\n\nconst DEFAULT_PARAMS = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 40,\n};\n\n\n\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(BASE_URL, {\n      params: { ...DEFAULT_PARAMS, q: query },\n    })\n    .then(response => response.data)\n    .catch(error => {\n      console.error('Помилка запиту до Pixabay:', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.getElementById('gallery');\nconst loaderEl = document.querySelector('.loader'); // зміна тут\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      img => `\n    <li class=\"gallery__item\">\n      <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p><b>Likes:</b> ${img.likes}</p>\n          <p><b>Views:</b> ${img.views}</p>\n          <p><b>Comments:</b> ${img.comments}</p>\n          <p><b>Downloads:</b> ${img.downloads}</p>\n        </div>\n      </a>\n    </li>`\n    )\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  loaderEl.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  loaderEl.classList.add('is-hidden');\n}","    // import './main.css';\n    import 'izitoast/dist/css/iziToast.min.css';\n    import iziToast from 'izitoast';\n    import 'loaders.css/loaders.min.css';\n    import { getImagesByQuery } from './js/pixabay-api';\n    import { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\n\n    const form = document.getElementById('search-form');\n    const input = document.getElementById('search-text');\n\n    form.addEventListener('submit', onSearch);\n\n    function onSearch(e) {\n    e.preventDefault();\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({\n        title: 'Warning',\n        message: 'Please enter a search term.',\n        position: 'topRight'\n        });\n        return;\n    }\n\n    clearGallery();\n\n    showLoader();\n\n    getImagesByQuery(query)\n        .then(data => {\n            if (!data || !Array.isArray(data.hits) || data.hits.length === 0) {\n            iziToast.info({\n            title: 'Info',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight'\n            });\n            return;\n        }\n\n        createGallery(data.hits);\n        })\n        .catch(err => {\n        console.error(err);\n        iziToast.error({\n            title: 'Error',\n            message: 'Something went wrong while fetching images. Please try again later.',\n            position: 'topRight'\n        });\n        })\n        .finally(() => {\n            hideLoader();\n        });\n    }\n"],"names":["BASE_URL","API_KEY","DEFAULT_PARAMS","getImagesByQuery","query","axios","response","error","galleryEl","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","form","input","onSearch","e","iziToast","data","err"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAiB,CACrB,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACZ,EAKO,SAASE,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAIL,EAAU,CACb,OAAQ,CAAE,GAAGE,EAAgB,EAAGE,CAAO,CAC7C,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,6BAA8BA,CAAK,EAC3CA,CACZ,CAAK,CACL,CCvBA,MAAMC,EAAY,SAAS,eAAe,SAAS,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACCE,GAAO;AAAA;AAAA,sCAEyBA,EAAI,aAAa;AAAA,oBACnCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,6BAEzBA,EAAI,KAAK;AAAA,6BACTA,EAAI,KAAK;AAAA,gCACNA,EAAI,QAAQ;AAAA,iCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,UAIzC,EACA,KAAK,EAAE,EAEVP,EAAU,mBAAmB,YAAaM,CAAM,EAChDJ,EAAS,QAAO,CAClB,CAEO,SAASM,GAAe,CAC7BR,EAAU,UAAY,GACtBE,EAAS,QAAO,CAClB,CAEO,SAASO,GAAa,CAC3BR,EAAS,UAAU,OAAO,WAAW,CACvC,CAEO,SAASS,GAAa,CAC3BT,EAAS,UAAU,IAAI,WAAW,CACpC,CCpCI,MAAMU,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,aAAa,EAEnDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMlB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAAChB,EAAO,CACRmB,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,8BACT,SAAU,UAClB,CAAS,EACD,MACH,CAEDP,IAEAC,IAEAd,EAAiBC,CAAK,EACjB,KAAKoB,GAAQ,CACV,GAAI,CAACA,GAAQ,CAAC,MAAM,QAAQA,EAAK,IAAI,GAAKA,EAAK,KAAK,SAAW,EAAG,CAClED,EAAS,KAAK,CACd,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAa,EACD,MACH,CAEDX,EAAcY,EAAK,IAAI,CAC/B,CAAS,EACA,MAAMC,GAAO,CACd,QAAQ,MAAMA,CAAG,EACjBF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sEACT,SAAU,UACtB,CAAS,CACT,CAAS,EACA,QAAQ,IAAM,CACXL,GACZ,CAAS,CACT"}